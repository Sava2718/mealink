# 食生活最適化アプリ 要件定義書（v0.1 / Draft）

## 1. 文書情報

- 文書名：食生活最適化アプリ 要件定義書
- 作成日：2025-12-04
- 更新日：2025-12-08
- 作成者：縄田　幹（チーム名 / 担当者）
- 対象システム：「MEALINK」
- 対象範囲：エンドユーザー向けスマホアプリ（iOS / Android）  
  ※小売・メーカー向けダッシュボードは別文書で定義する

---

## 2. 背景・目的

### 2.1 背景

- 日本の一人暮らし世帯では、自炊は「必要だからしているが、本音では面倒」である層が多い。
- 特に以下の負担が大きい。
  - 冷蔵庫の中身の把握
  - 献立を考えること
  - 栄養バランスの管理
- 既存の健康アプリ・レシピアプリは以下の課題がある。
  - 食事の「記録」をユーザーに求めるため継続されない。
  - 「何を買ったか」「家に何があるか」を前提とした設計になっていない。
- 一方で、スーパー・メーカー側は以下のニーズを持つ。
  - ID-POSや購買データを活用したマーケティング・ロス削減
  - 若年層の囲い込み・健康文脈での価値提供

### 2.2 目的

本アプリは、  
**「ユーザーがいつも通り買い物をするだけで、冷蔵庫の中身・献立・栄養・次の買い物までを自動で最適化する」**  
ことを目的とする。

- ユーザーにとって：
  - 自炊・食事管理の「だるさ」を最小限にしつつ、健康度と満足度を上げる。
- 将来的な事業として：
  - 購買データ×栄養データ×行動データを基盤とした、  
    小売・メーカー向けSaaS / データビジネスへ展開する土台とする。

---

## 3. 用語定義

- ユーザー：本アプリを利用するエンドユーザー（主に首都圏中ざいの子持ち主婦）
- 在庫：ユーザーの家（冷蔵庫・棚）にある食材・加工品・飲料等
- 購入情報：スーパー・コンビニ・ネットスーパー等での買い物履歴
- 献立：1食または1日の食事メニューの組み合わせ
- 栄養スコア：一定期間の栄養バランスを数値化した指標（0〜100点など）
- MVP：Minimum Viable Product（最小限の実用的な製品）

---

## 4. 対象範囲（スコープ）

### 4.1 本要件定義で対象とする範囲

- エンドユーザー向けスマホアプリ
  - アカウント・プロフィール管理
  - 購入情報の取得（フェーズ1では簡易な手段に限定）
  - 在庫管理（推定＋ユーザーによる微調整）
  - 献立提案（1日〜1週間）
  - 食事記録・栄養可視化・スコアリング
  - 買い物リスト生成
  - 通知・リマインド

### 4.2 本フェーズで対象外（将来対応）

- 小売・メーカー向け管理ダッシュボード（売上・ロス削減分析）
- 健保・自治体向けのデータ連携機能
- ハードウェア（玄関スキャナ・スマート冷蔵庫等）の開発

---

## 5. 想定ユーザー / ペルソナ

- 地域：首都圏
- 年齢：30~40代
- 居住形態：家族暮らし
- 特徴：
  - 毎日自炊をするが、献立や管理は面倒に感じている。
  - スーパーやコンビニで日常的に食材・惣菜を購入している。
  - スマホアプリ・キャッシュレス決済の利用に抵抗がない。
  - 健康には「何となく気をつけたい」程度のライト層。

---

## 6. 前提条件・制約

- フェーズ1では以下を前提とする。
  - 決済事業者やPOSベンダーとの本格的なAPI連携は行わない。
  - 購入情報は「レシート情報」「対応ネットスーパーの注文履歴」など限定的なソースから取得する。
  - 栄養情報は既存の食品DB（一般食品・市販商品）＋簡易推定ロジックを用いる。
- 対応OS：
  - iOS / Android のモバイルアプリを想定（Web版は対象外）。
- ビジコン用デモ段階では、データはモックまたは限定的なサンプルでよい。

---

## 7. 機能要件（Functional Requirements）

### 7.0 共通

- FR-0-1：ユーザーはメールアドレスまたはSNSアカウントで登録・ログインできること。
- FR-0-2：ユーザーはプロフィール情報（年齢・性別・身長・体重・自炊頻度など）を登録・更新できること。
- FR-0-3：ユーザーは食の目標（例：ダイエット・健康維持・筋力アップなど）を設定・変更できること。

---

### 7.1 購入情報取得

**目的：ユーザーの追加行動を最小限にしつつ、在庫推定に必要な情報を取得する。**

- FR-1-1（MVP）：ユーザーはレシート情報を手入力または簡易形式（商品名と数量程度）で登録できること。
- FR-1-2（候補）：ユーザーはレシートの写真を撮影し、OCRで商品リストを生成できること。
- FR-1-3（MVP）：ユーザーはネットスーパーの注文履歴をCSVやスクショベースで取り込み、簡易的に反映できること（プロト段階は手動でもよい）。
- FR-1-4（将来）：電子レシート／会員アプリとの連携により自動取得するAPIを組み込める構造であること。

---

### 7.2 在庫管理機能

**目的：冷蔵庫・棚の中身を「だいたい正しく」把握し、献立と買い物に活用する。**

- FR-2-1：アプリは購入情報から在庫一覧を自動生成すること。
- FR-2-2：在庫一覧には以下の情報を表示すること。
  - 食材名
  - カテゴリ（主食・主菜・副菜・乳製品・調味料等）
  - 残量（ざっくり単位で可）
  - 賞味期限（実値または推定）
  - 信頼度（「確実」「たぶん」「不明」の3段階）
- FR-2-3：ユーザーは在庫の有無・残量を手動で修正できること。
- FR-2-4：献立で使用した食材は、自動的に在庫から減算されること（推定量でよい）。
- FR-2-5：賞味期限が近い食材は、一覧や通知で強調表示されること。

---

### 7.3 献立提案機能

**目的：ユーザーが「何を作るか考えなくてよい」状態をつくる。**

- FR-3-1：アプリは、当日の夕食候補（1〜3パターン）を自動提案できること。
  - パターンA：在庫だけで作れる
  - パターンB：1〜2品買い足せば作れる
  - パターンC：健康重視モード
- FR-3-2：ユーザーは「1週間分の献立」を生成できること。
- FR-3-3：各献立には以下の情報を表示すること。
  - メニュー名
  - 所要時間
  - 難易度（簡単／普通／手間）
  - 使用食材（在庫あり／不足の区別）
  - 栄養情報（主要栄養素の目安）
  - 健康スコアへの影響（＋◯点／−◯点）
- FR-3-4：ユーザーは献立案から「採用」「別案を提案してほしい」を選択できること。
- FR-3-5：足りない食材はワンタップで「買い物リスト」に追加できること。

---

### 7.4 食事記録・栄養可視化機能

**目的：ユーザーが「なんとなく」ではなく、自分の食習慣をざっくり把握できるようにする。**

- FR-4-1：ユーザーは1日ごとの食事内容（朝・昼・夜）を記録として確認できること。
  - 献立提案を使った場合は自動記録
  - 外食などは簡易入力（カテゴリ選択）で登録可能
- FR-4-2：アプリは直近7日・30日の栄養バランスをグラフやレーダーチャートで表示できること。
- FR-4-3：アプリは一定期間ごとに「健康スコア」を算出し、表示できること。
- FR-4-4：アプリは以下を要約したコメントを表示できること。
  - 不足しがちな栄養TOP3
  - 摂り過ぎがちな栄養TOP3
  - 改善アクションの簡単な提案（例：「あと1日だけ野菜を足しましょう」）

---

### 7.5 買い物リスト・購買誘導機能

**目的：次の買い物を「考えなくていい」状態にする。**

- FR-5-1：ユーザーは1週間分の献立から自動生成された「買い物リスト」を確認できること。
- FR-5-2：買い物リストでは、以下が分かること。
  - 買うべき食材名
  - 分量目安
  - どの献立に使うか（紐づき）
- FR-5-3：ユーザーは在庫状況に応じて「これは買わない」をチェックできること。
- FR-5-4（将来）：対応ネットスーパーがある場合、買い物リストからカートへ直接投入できること。

---

### 7.6 通知・リマインド機能

**目的：ユーザーに「ちょうどよく」行動を促す。**

- FR-6-1：賞味期限が近い食材がある場合、適切なタイミングで通知できること。
- FR-6-2：一定期間自炊が減っている場合などに、ライトなリマインドを行えること。
- FR-6-3：通知の頻度・ON/OFFはユーザーが設定できること。

---

### 7.7 外食・中食対応（MVPでは簡易）

- FR-7-1：ユーザーは外食・コンビニ弁当などを簡易カテゴリで記録できること（ラーメン・カレー・定食など）。
- FR-7-2：アプリは外食カテゴリごとの平均的な栄養値を用いてスコアに反映できること。

---

### 7.8 設定・その他

- FR-8-1：ユーザーは通知設定・プライバシー設定を変更できること。
- FR-8-2：ユーザーはアカウント削除を申請できること（データ削除も含む）。
- FR-8-3：ヘルプ・FAQを参照できること。

---

## 8. 非機能要件（Non-functional Requirements）

### 8.1 UX / UI

- NFR-1：1日の利用時間は「数分〜10分」程度に収まる設計とする。
- NFR-2：初回チュートリアルは3〜5画面程度のシンプルなものとする。
- NFR-3：主な操作は「タップ数3回以内」で完了することを目標とする（献立採用・買い物リスト追加など）。

### 8.2 性能

- NFR-2-1：ホーム画面表示までの初期読込時間は3秒以内を目標とする。
- NFR-2-2：献立提案生成処理は5秒以内を目標とする（モバイルorサーバ側ロジック前提）。

### 8.3 セキュリティ・プライバシー

- NFR-3-1：パスワードはハッシュ化して保存すること。
- NFR-3-2：購買データ・栄養データ等の個人情報は暗号化・アクセス制御を行うこと。
- NFR-3-3：将来的な企業・自治体へのデータ提供は、統計化・匿名化データに限定すること。

### 8.4 拡張性

- NFR-4-1：購買情報のデータソース（レシート・電子レシート・POS・決済API）は抽象化されたインターフェースで管理し、追加実装しやすい構造とする。
- NFR-4-2：栄養計算ロジックは外部APIまたはモジュールとして差し替え可能とする。

---

## 9. 画面構成（ざっくり）

### 9.1 タブ構成（案）

1. ホーム（今日の献立・スコアサマリ）
2. 在庫（冷蔵庫・棚の一覧）
3. 献立（1週間プラン・レシピ一覧）
4. 記録（食事ログ・栄養グラフ）
5. マイページ（プロフィール・目標・設定）

---

## 10. ユーザーフロー（MVP想定）

1. 初回起動
   - チュートリアル表示 → アカウント作成 → プロフィール入力 → 目標設定
2. 初回在庫登録
   - 簡易に「普段よく買う食材」を選択 or レシート1枚登録
3. 日次利用
   - アプリを開く → 今日のおすすめ献立から選択 → 食事後に「食べた」をワンタップ記録
4. 週次利用
   - 1週間分の献立プランを作成 → 買い物リスト生成 → スーパーでの買い物に使用
5. 定期的な振り返り
   - 記録タブで栄養バランス・健康スコアを確認 → 改善提案を参照

---

## 11. フェーズ分割（ざっくり）

- フェーズ1（ビジコン・PoC用）
  - 最低限の在庫管理（手動＋簡易レシート入力）
  - 今日の献立提案
  - 簡易栄養スコア表示
  - 1週間献立＆買い物リスト（シンプル版）

- フェーズ2
  - 電子レシート／ネットスーパー履歴との連携
  - 賞味期限管理・通知
  - 外食・中食ログの精度向上

- フェーズ3
  - POS／決済連携
  - 小売・メーカー向け管理画面
  - データビジネス展開

---

以上。
このv0.1をベースに、次は

- 画面定義（ワイヤーフレーム）
- ユーザーストーリー（例：「仕事終わりにアプリを開いたとき〜」）

に落とし込んでいくと、実装とスライドの両方に使える仕様になると考える。
